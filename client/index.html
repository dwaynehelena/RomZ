<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retro CyberDeck</title>
    <link rel="stylesheet" href="style.css?v=6">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <!-- EmulatorJS -->
    <script src="https://cdn.emulatorjs.org/latest/data/loader.js"></script>
</head>
<body>

    <!-- Header -->
    <header class="app-header">
        <div class="brand" data-text="CYBERDECK">CYBERDECK</div>
        <div class="header-actions">
            <input type="text" id="global-search" class="search-bar" placeholder="SEARCH_DATABASE..." autocomplete="off">
            <div id="clock" style="font-family: 'Roboto Mono', monospace; color: var(--md-sys-color-primary);">00:00:00</div>
        </div>
    </header>

    <div class="app-layout">
        <!-- Sidebar Navigation -->
        <nav class="app-sidebar">
            <div class="nav-section">LIBRARY</div>
            <div class="nav-item active" data-view="library-all">
                <span>ðŸ“š</span> All Games
            </div>
            <div class="nav-item" data-view="library-favorites">
                <span>â™¥</span> Favorites
            </div>
            <div class="nav-item" data-view="library-recents">
                <span>clock</span> Recents
            </div>

            <div class="nav-section">STORE (RGSX)</div>
            <div class="nav-item" data-view="store-browse">
                <span>cloud_download</span> Browse
            </div>
            <div class="nav-item" data-view="store-tasks">
                <span>downloading</span> Downloads
            </div>

            <div class="nav-section">SYSTEMS</div>
            <div id="system-list-container">
                <!-- Populated by JS -->
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="app-content">

            <!-- Library View -->
            <div id="view-library" class="view-section active">
                <h2 id="library-title" style="margin-top:0; border-bottom: 1px solid #333; padding-bottom: 16px;">ALL GAMES</h2>
                <div id="library-grid" class="game-grid">
                    <!-- Game Cards go here -->
                </div>
            </div>

            <!-- Store View -->
            <div id="view-store" class="view-section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                    <h2 style="margin:0;">NEURAL STORE</h2>
                    <select id="store-platform-select" style="background: #333; color: white; padding: 8px; border: none; border-radius: 4px;">
                        <option value="">Select Platform...</option>
                    </select>
                </div>
                <div id="store-grid" class="store-grid">
                    <!-- Store Items go here -->
                    <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #666;">
                        SELECT A SYSTEM TO INITIALIZE DATALINK
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Emulator Overlay -->
    <div id="emulator-overlay" style="display: none;">
        <div class="emu-controls">
            <span id="emu-game-title" style="margin-right: auto; font-weight: bold;">Game Title</span>
            <button class="emu-btn" onclick="toggleFullscreen()">â›¶ Fullscreen</button>
            <button class="emu-btn" onclick="closeEmulator()" style="background: var(--md-sys-color-error);">âœ• Close</button>
        </div>
        <div id="emulator-target"></div>
    </div>

    <script src="gamepad.js"></script>
    <script src="gamepad.js"></script>
    <script src="app.js?v=6"></script>
</body>
</html>